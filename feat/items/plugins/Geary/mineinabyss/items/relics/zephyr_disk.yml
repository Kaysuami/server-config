namespaces: [ geary, mineinabyss ]
set.item:
  item:
    type: KNOWLEDGE_BOOK
    itemName: <dark_aqua>Zephyr Disk
    customModelData: 5
disableItemInteractions: { }
# TODO reimplement using observe
observe:
  itemRightClick:
    - become: parent
    - ensure:
        cooldownsComplete: [ zephyr_disk ]
    - get.location: {}
      register: center
    - get.nearbyEntities: { radius: 10 }
      register: nearbyEntities
    - run:
        - become: "{{ item }}"
        - playSound:
            sound: minecraft:entity.generic.extinguish_fire
        - knockback:
            center: "{{ center }}"
            power: 1
            yAngle: 0.5
        - particle:
            at: $targetLoc
            particle: CLOUD
            count: 3
      loop: nearbyEntities
